<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Contabilidad</title>
    <link rel="stylesheet" href="styles.css">
    
    <!-- Firebase Core and Firestore -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Sistema de Contabilidad</h1>
        </header>
        
        <div class="input-section">
            <h2>Registro Diario</h2>
            <div class="input-group">
                <label for="fecha-registro">Fecha:</label>
                <input type="date" id="fecha-registro">
            </div>
            <div class="input-group">
                <label for="efectivo">Efectivo:</label>
                <input type="number" id="efectivo" step="0.01" min="0">
            </div>
            <div class="input-group">
                <label for="tarjeta">Tarjeta:</label>
                <input type="number" id="tarjeta" step="0.01" min="0">
            </div>
            <button id="guardar">Guardar</button>
        </div>

        <div class="totals-section">
            <h2>Totales del Día</h2>
            <div class="date-selector">
                <label for="fecha-totales">Ver totales del día:</label>
                <input type="date" id="fecha-totales">
            </div>
            <div class="totals-grid">
                <div class="total-item">
                    <span>Efectivo Acumulado:</span>
                    <span id="efectivo-total">0.00€</span>
                </div>
                <div class="total-item">
                    <span>Tarjeta Acumulada:</span>
                    <span id="tarjeta-total">0.00€</span>
                </div>
                <div class="total-item total-general">
                    <span>Total General:</span>
                    <span id="total-general">0.00€</span>
                </div>
            </div>
        </div>

        <div class="monthly-section">
            <h2>Vista Mensual</h2>
            <div class="month-selector">
                <select id="month-select">
                    <option value="0">Enero</option>
                    <option value="1">Febrero</option>
                    <option value="2">Marzo</option>
                    <option value="3">Abril</option>
                    <option value="4">Mayo</option>
                    <option value="5">Junio</option>
                    <option value="6">Julio</option>
                    <option value="7">Agosto</option>
                    <option value="8">Septiembre</option>
                    <option value="9">Octubre</option>
                    <option value="10">Noviembre</option>
                    <option value="11">Diciembre</option>
                </select>
                <select id="year-select"></select>
            </div>
            <div class="monthly-totals">
                <div id="monthly-data"></div>
            </div>
        </div>
    </div>

    <!-- Initialize Firebase -->
    <script src="config.js"></script>
    
    <!-- Application Code -->
    <script src="app.js"></script>

    <script>
        // Verificación de Firebase
        document.addEventListener('DOMContentLoaded', function() {
            console.log('Estado de carga:');
            console.log('- Firebase:', typeof firebase !== 'undefined');
            console.log('- Firestore:', typeof firebase?.firestore === 'function');
            console.log('- Base de datos:', typeof window.db !== 'undefined');
            
            if (typeof firebase === 'undefined') {
                console.error('Error: Firebase no está cargado correctamente');
                alert('Error: Firebase no está cargado correctamente');
            }
            if (!window.db) {
                console.error('Error: La base de datos no está inicializada');
                alert('Error: La base de datos no está inicializada');
            }
        });
    </script>
</body>
</html> 